(()=>{(function(){"use strict";let t={config:{containerSelector:"#markdownBody",fullWidthSelector:".width-full",sideMargin:25,mobileBreakpoint:649,debug:!1},layoutState:{pageWidth:0,leftAdjustment:0,isMobile:!1},log:(e,i=1)=>{t.config.debug&&console&&i<=1&&console.log(`[FullWidth] ${e}`)},updateLayoutMetrics:()=>{t.log("Updating layout metrics");let e=document.documentElement,i=document.querySelector(t.config.containerSelector);if(!i){t.log("Container not found");return}t.layoutState.pageWidth=e.offsetWidth,t.layoutState.isMobile=window.innerWidth<=t.config.mobileBreakpoint;let l=i.getBoundingClientRect(),n=t.layoutState.pageWidth-l.right;t.layoutState.leftAdjustment=l.left-n,e.style.setProperty("--fullwidth-side-margin",`${t.config.sideMargin}px`),e.style.setProperty("--fullwidth-page-width",`${t.layoutState.pageWidth}px`),e.style.setProperty("--fullwidth-left-adjustment",`${t.layoutState.leftAdjustment}px`),t.log(`Metrics: pageWidth=${t.layoutState.pageWidth}, leftAdjustment=${t.layoutState.leftAdjustment}, isMobile=${t.layoutState.isMobile}`)},calculateAdditionalLeftAdjustment:e=>{let i=e.closest("li");if(e.closest(".collapse-block"))return 0;if(i){let l=document.querySelector(t.config.containerSelector);if(!l)return 0;let n=l.getBoundingClientRect(),o=i.firstElementChild;if(o){let s=o.getBoundingClientRect();return n.x-s.x}}return 0},applyFullWidthMargins:e=>{if(t.layoutState.isMobile){e.style.marginLeft="",e.style.marginRight="";return}let i=t.calculateAdditionalLeftAdjustment(e);e.style.marginLeft=`calc(
				(-1 * (var(--fullwidth-left-adjustment) / 2.0))
				+ var(--fullwidth-side-margin)
				- ((var(--fullwidth-page-width) - 100%) / 2.0)
				+ (${i}px / 2.0)
			)`,e.style.marginRight=`calc(
				(1 * (var(--fullwidth-left-adjustment) / 2.0))
				+ var(--fullwidth-side-margin)
				- ((var(--fullwidth-page-width) - 100%) / 2.0)
				- (${i}px / 2.0)
			)`,t.log(`Applied margins to ${e.tagName} with additional adjustment: ${i}px`)},processFullWidthElements:()=>{t.log("Processing full-width elements"),t.updateLayoutMetrics();let e=document.querySelectorAll(t.config.fullWidthSelector);t.log(`Found ${e.length} full-width elements`),e.forEach(i=>{t.applyFullWidthMargins(i)})},init:()=>{t.log("FullWidthStandalone initializing"),t.processFullWidthElements();let e;if(window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{t.processFullWidthElements()},100)}),window.MutationObserver){let i=new MutationObserver(n=>{let o=!1;n.forEach(s=>{s.addedNodes.forEach(a=>{a.nodeType===Node.ELEMENT_NODE&&(a.matches&&a.matches(t.config.fullWidthSelector)||a.querySelector&&a.querySelector(t.config.fullWidthSelector))&&(o=!0)})}),o&&t.processFullWidthElements()}),l=document.querySelector(t.config.containerSelector);l&&i.observe(l,{childList:!0,subtree:!0})}t.log("FullWidthStandalone initialized")},refresh:()=>{t.processFullWidthElements()}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>t.init()):t.init(),window.FullWidthStandalone=t})();})();
