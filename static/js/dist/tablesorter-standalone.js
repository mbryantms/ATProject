(()=>{(function(){"use strict";let e={config:{tableSelector:".table-wrapper table",headerSelector:"thead th",sortableClass:"tablesorter-header",sortAscClass:"tablesorter-headerDesc",sortDescClass:"tablesorter-headerAsc",noSortClass:"tablesorter-noSort",initialSortAsc:!0,debug:!1},tables:new Map,log:(r,t=1)=>{e.config.debug&&console&&t<=1&&console.log(`[Tablesorter] ${r}`)},sortTypes:{numeric:{is:r=>/^[\d\s,.-]+$/.test(r)&&!isNaN(parseFloat(r.replace(/[,\s]/g,""))),compare:(r,t)=>{let s=parseFloat(r.replace(/[,\s]/g,""))||0,o=parseFloat(t.replace(/[,\s]/g,""))||0;return s-o}},text:{is:()=>!0,compare:(r,t)=>r.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})}},detectColumnType:(r,t)=>{let s=r.querySelector("tbody");if(!s)return"text";let o=Array.from(s.querySelectorAll("tr")).slice(0,10),l=0;for(let i of o){let a=i.querySelectorAll("td");if(a[t]){let n=e.getCellValue(a[t]).trim();n&&e.sortTypes.numeric.is(n)&&l++}}return l/o.length>.7?"numeric":"text"},getCellValue:r=>{let t=r.textContent||"",s=r.cloneNode(!0);return s.querySelectorAll(".link-icon-hook, .indicator-hook").forEach(l=>l.remove()),t=s.textContent||"",t.trim()},sortTable:(r,t,s)=>{let o=r.querySelector("tbody");if(!o)return;e.log(`Sorting column ${t} in ${s} order`);let l=e.detectColumnType(r,t),i=e.sortTypes[l].compare,a=Array.from(o.querySelectorAll("tr"));a.sort((n,c)=>{let u=n.querySelectorAll("td")[t],f=c.querySelectorAll("td")[t];if(!u||!f)return 0;let d=e.getCellValue(u),b=e.getCellValue(f);if(!d&&!b)return 0;if(!d)return 1;if(!b)return-1;let g=i(d,b);return s==="asc"?g:-g}),a.forEach(n=>o.appendChild(n)),a.forEach((n,c)=>{n.classList.remove("odd","even"),n.classList.add(c%2===0?"odd":"even")})},handleHeaderClick:r=>{let t=r.currentTarget,s=t.closest("table");if(t.classList.contains(e.config.noSortClass))return;let o=t.parentElement,l=Array.from(o.children).indexOf(t),i=e.tables.get(s);if(!i)return;let a;i.sortColumn===l?a=i.sortDirection==="asc"?"desc":"asc":a="asc",o.querySelectorAll("th").forEach(u=>{u.classList.remove(e.config.sortAscClass,e.config.sortDescClass)});let c=a==="asc"?e.config.sortAscClass:e.config.sortDescClass;t.classList.add(c),i.sortColumn=l,i.sortDirection=a,e.sortTable(s,l,a)},makeTableSortable:r=>{e.log("Making table sortable");let t=r.querySelector("thead");if(!t){e.log("Table has no thead, skipping");return}if(!r.hasAttribute("data-sortable")||r.getAttribute("data-sortable")!=="true"){e.log('Table does not have data-sortable="true", skipping');return}e.tables.set(r,{sortColumn:null,sortDirection:"asc"}),t.querySelectorAll(e.config.headerSelector).forEach((o,l)=>{o.classList.contains(e.config.noSortClass)||(o.classList.add(e.config.sortableClass),o.addEventListener("click",e.handleHeaderClick),o.style.cursor="pointer")})},initializeTables:()=>{e.log("Initializing tables");let r=document.querySelectorAll(e.config.tableSelector);e.log(`Found ${r.length} tables`),r.forEach(t=>{e.tables.has(t)||e.makeTableSortable(t)})},init:()=>{e.log("TablesorterStandalone initializing"),e.initializeTables(),window.MutationObserver&&new MutationObserver(t=>{let s=!1;t.forEach(o=>{o.addedNodes.forEach(l=>{l.nodeType===Node.ELEMENT_NODE&&(l.matches&&l.matches(".table-wrapper")||l.querySelector&&l.querySelector(".table-wrapper"))&&(s=!0)})}),s&&e.initializeTables()}).observe(document.body,{childList:!0,subtree:!0}),e.log("TablesorterStandalone initialized")},refresh:()=>{e.initializeTables()}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>e.init()):e.init(),window.TablesorterStandalone=e})();})();
